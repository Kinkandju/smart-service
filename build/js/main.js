"use strict";!function(){var e=document.querySelector(".contacts__open-modal"),t=document.querySelector(".overlay"),n=document.querySelector(".page-footer__modal"),o=n.querySelector(".modal__button--close"),a=n.querySelector(".modal__form"),l=n.querySelector(".modal__name--input"),i=n.querySelector(".modal__tel--input"),r=n.querySelector(".modal__question--input"),c=!0,s="",u="",d="";try{s=localStorage.getItem("nameInput"),u=localStorage.getItem("telInput"),d=localStorage.getItem("messageInput")}catch(e){c=!1}c&&(s&&(l.value=s),u&&(i.value=u),d&&(r.innerText=d));function v(e){27===e.keyCode&&(e.preventDefault(),m())}var m=function(){n.classList.remove("modal--show"),n.classList.remove("modal--error"),t.classList.remove("overlay--show"),document.removeEventListener("keydown",v)};e.addEventListener("click",function(e){e.preventDefault(),l.value?l.value&&!i.value?i.focus():l.value&&i.value&&!r.value?r.focus():(localStorage.setItem("nameInput",l.value),localStorage.setItem("telInput",i.value),localStorage.setItem("messageInput",r.value)):l.focus(),n.classList.add("modal--show"),t.classList.add("overlay--show"),document.addEventListener("keydown",v)}),o.addEventListener("click",function(e){e.preventDefault(),m()}),t.addEventListener("click",function(e){e.preventDefault(),m()}),a.addEventListener("submit",function(e){l.value&&i.value&&r.value?c&&(localStorage.setItem("nameInput",l.value),localStorage.setItem("telInput",i.value),localStorage.setItem("messageInput",r.value)):(e.preventDefault(),n.classList.remove("modal--error"),n.offsetWidth=n.offsetWidth,n.classList.add("modal--error"))});for(var f=document.querySelectorAll(".promo__link, .promo__scroll-down"),_=0;_<f.length;_++)f[_].addEventListener("click",function(e){e.preventDefault();var t,n=document.querySelector(e.currentTarget.href.replace(/[^#]*(.*)/,"$1")),e=window.navigator.userAgent,o=e.indexOf("MSIE "),a=e.indexOf("Trident/");t=!1==(-1<o||-1<a)?n.getBoundingClientRect().y:n.getBoundingClientRect().top;var l,i,r=window.pageYOffset;l={duration:1800,timing:function(e){return e},draw:function(e){window.scrollTo(0,r+e*t)}},i=performance.now(),requestAnimationFrame(function e(t){var n=(t-i)/l.duration;1<n&&(n=1);t=l.timing(n);l.draw(t),n<1&&requestAnimationFrame(e)})});function g(e,t){e.classList.add("info__navigation-data--closed"),t.classList.remove("info__navigation-button--closed"),t.classList.add("info__navigation-button--opened")}var p=document.querySelectorAll(".info__navigation-data, .info__location"),L=function(e,t){for(var n=0;n<e.length;n++){var o=e[n];"initial"===t&&o.querySelector(".info__navigation-container").addEventListener("click",function(e){e.preventDefault();var t=e.target,e=e.currentTarget.parentNode;t.classList.contains("info__navigation-button")&&(t.classList.contains("info__navigation-button--closed")?g(e,t):t.classList.contains("info__navigation-button--opened")&&(L(p,"closeall"),t=t,e.classList.remove("info__navigation-data--closed"),t.classList.remove("info__navigation-button--opened"),t.classList.add("info__navigation-button--closed")))}),"closeall"===t&&g(o,o.querySelector(".info__navigation-button"))}};L(p,"initial")}();