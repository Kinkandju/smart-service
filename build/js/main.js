"use strict";!function(){function n(e,t){e.classList.add(t)}function o(e,t){e.classList.remove(t)}var e,a;e=".navigation__title",(a=Array.from(document.querySelectorAll(e))).forEach(function(t){n(t,"navigation__title--active"),window.addEventListener("resize",function(){(innerWidth<768?n:o)(t,"navigation__title--active")}),t.addEventListener("click",function(){var e;innerWidth<768&&(e=n,t.classList.contains("navigation__title--active")&&(a.forEach(function(e){n(e,"navigation__title--active")}),e=o),e(t,"navigation__title--active"))})});var t=document.querySelector(".modal"),i=t.querySelector(".modal__form"),c=document.getElementById("user_name"),r=document.getElementById("user_tel"),l=document.getElementById("user_message"),u=!0,d="",s="",m="";try{d=localStorage.getItem("nameInput"),s=localStorage.getItem("telInput"),m=localStorage.getItem("messageInput")}catch(e){u=!1}u&&(d&&(c.value=d),s&&(r.value=s),m&&(l.innerText=m));var v,g;i.addEventListener("submit",function(){u&&(localStorage.setItem("nameInput",c.value),localStorage.setItem("telInput",r.value),localStorage.setItem("messageInput",l.value))}),(v=document.querySelector(".contacts__open-modal"))&&v.addEventListener("click",function(e){e.preventDefault(),t&&(document.body.classList.add("modal--active"),c.focus(),localStorage.setItem("nameInput",c.value),localStorage.setItem("telInput",r.value),localStorage.setItem("messageInput",l.value))}),document.addEventListener("keydown",function(e){27===e.keyCode&&document.body.classList.remove("modal--active")}),(g=t.querySelector(".modal__button-close"))&&g.addEventListener("click",function(){document.body.classList.remove("modal--active")}),t&&t.addEventListener("click",function(e){null===e.target.closest(".modal__container")&&document.body.classList.remove("modal--active")});for(var f=document.querySelectorAll(".promo__link, .promo__scroll-down"),_=0;_<f.length;_++)f[_].addEventListener("click",function(e){e.preventDefault();var t,n=document.querySelector(e.currentTarget.href.replace(/[^#]*(.*)/,"$1")),e=window.navigator.userAgent,o=e.indexOf("MSIE "),a=e.indexOf("Trident/");t=!1==(-1<o||-1<a)?n.getBoundingClientRect().y:n.getBoundingClientRect().top;var i,c,r=window.pageYOffset;i={duration:1800,timing:function(e){return e},draw:function(e){window.scrollTo(0,r+e*t)}},c=performance.now(),requestAnimationFrame(function e(t){var n=(t-c)/i.duration;1<n&&(n=1);t=i.timing(n);i.draw(t),n<1&&requestAnimationFrame(e)})})}();