"use strict";!function(){var t=document.querySelector(".modal"),e=t.querySelector(".modal__form"),n=t.querySelector(".modal__name--input"),o=t.querySelector(".modal__tel--input"),a=t.querySelector(".modal__question--input"),i=!0,l="",c="",r="";try{l=localStorage.getItem("nameInput"),c=localStorage.getItem("telInput"),r=localStorage.getItem("messageInput")}catch(e){i=!1}i&&(l&&(n.value=l),c&&(o.value=c),r&&(a.innerText=r));var u,s;e.addEventListener("submit",function(){i&&(localStorage.setItem("nameInput",n.value),localStorage.setItem("telInput",o.value),localStorage.setItem("messageInput",a.value))}),(u=document.querySelector(".contacts__open-modal"))&&u.addEventListener("click",function(e){e.preventDefault(),t&&(document.body.classList.add("modal--active"),document.querySelector(".modal__name--input").focus(),localStorage.setItem("nameInput",n.value),localStorage.setItem("telInput",o.value),localStorage.setItem("messageInput",a.value))}),document.addEventListener("keydown",function(e){27===e.keyCode&&document.body.classList.remove("modal--active")}),(s=t.querySelector(".modal__button--close"))&&s.addEventListener("click",function(){document.body.classList.remove("modal--active")}),t&&t.addEventListener("click",function(e){null===e.target.closest(".modal__container")&&document.body.classList.remove("modal--active")});for(var d=document.querySelectorAll(".promo__link, .promo__scroll-down"),m=0;m<d.length;m++)d[m].addEventListener("click",function(e){e.preventDefault();var t,n=document.querySelector(e.currentTarget.href.replace(/[^#]*(.*)/,"$1")),e=window.navigator.userAgent,o=e.indexOf("MSIE "),a=e.indexOf("Trident/");t=!1==(-1<o||-1<a)?n.getBoundingClientRect().y:n.getBoundingClientRect().top;var i,l,c=window.pageYOffset;i={duration:1800,timing:function(e){return e},draw:function(e){window.scrollTo(0,c+e*t)}},l=performance.now(),requestAnimationFrame(function e(t){var n=(t-l)/i.duration;1<n&&(n=1);t=i.timing(n);i.draw(t),n<1&&requestAnimationFrame(e)})});function v(e,t){e.classList.add("info__navigation-data--closed"),t.classList.remove("info__navigation-button--closed"),t.classList.add("info__navigation-button--opened")}var _=document.querySelectorAll(".info__navigation-data, .info__location"),g=function(e,t){for(var n=0;n<e.length;n++){var o=e[n];"initial"===t&&o.querySelector(".info__navigation-container").addEventListener("click",function(e){e.preventDefault();var t=e.target,e=e.currentTarget.parentNode;t.classList.contains("info__navigation-button")&&(t.classList.contains("info__navigation-button--closed")?v(e,t):t.classList.contains("info__navigation-button--opened")&&(g(_,"closeall"),t=t,e.classList.remove("info__navigation-data--closed"),t.classList.remove("info__navigation-button--opened"),t.classList.add("info__navigation-button--closed")))}),"closeall"===t&&v(o,o.querySelector(".info__navigation-button"))}};g(_,"initial")}();