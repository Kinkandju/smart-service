"use strict";!function(){var e=document.querySelector(".contacts__open-modal"),t=document.querySelector(".overlay"),n=document.querySelector(".page-footer__modal"),o=n.querySelector(".modal__button--close"),a=n.querySelector(".modal__form"),i=n.querySelector(".modal__name--input"),l=n.querySelector(".modal__tel--input"),r=n.querySelector(".modal__question--input"),s=!0,c="",u="",d="";try{c=localStorage.getItem("nameInput"),u=localStorage.getItem("telInput"),d=localStorage.getItem("messageInput")}catch(e){s=!1}s&&(c&&(i.value=c),u&&(l.value=u),d&&(r.innerText=d));function v(e){27===e.keyCode&&(e.preventDefault(),f())}var f=function(){n.classList.remove("modal--show"),n.classList.remove("modal--error"),t.classList.remove("overlay--show"),document.removeEventListener("keydown",v)};e.addEventListener("click",function(e){e.preventDefault(),i.value?i.value&&!l.value?l.focus():i.value&&l.value&&!r.value?r.focus():(localStorage.setItem("nameInput",i.value),localStorage.setItem("telInput",l.value),localStorage.setItem("messageInput",r.value)):i.focus(),n.classList.add("modal--show"),t.classList.add("overlay--show"),document.addEventListener("keydown",v)}),o.addEventListener("click",function(e){e.preventDefault(),f()}),t.addEventListener("click",function(e){e.preventDefault(),f()}),a.addEventListener("submit",function(e){i.value&&l.value&&r.value?s&&(localStorage.setItem("nameInput",i.value),localStorage.setItem("telInput",l.value),localStorage.setItem("messageInput",r.value)):(e.preventDefault(),n.classList.remove("modal--error"),n.offsetWidth=n.offsetWidth,n.classList.add("modal--error"))});for(var m=document.querySelectorAll(".description-of-goods__link, .description-of-goods__scroll-down"),g=0;g<m.length;g++)m[g].addEventListener("click",function(e){e.preventDefault();var t,n=document.querySelector(e.currentTarget.href.replace(/[^#]*(.*)/,"$1")),e=window.navigator.userAgent,o=e.indexOf("MSIE "),a=e.indexOf("Trident/");t=!1==(-1<o||-1<a)?n.getBoundingClientRect().y:n.getBoundingClientRect().top;var i,l,r=window.pageYOffset;i={duration:1800,timing:function(e){return e},draw:function(e){window.scrollTo(0,r+e*t)}},l=performance.now(),requestAnimationFrame(function e(t){var n=(t-l)/i.duration;1<n&&(n=1);t=i.timing(n);i.draw(t),n<1&&requestAnimationFrame(e)})});function _(e,t){e.classList.add("info__navigation-data--closed"),t.classList.remove("info__navigation-button--closed"),t.classList.add("info__navigation-button--opened")}var p=document.querySelectorAll(".info__navigation-data, .info__location"),L=function(e,t){for(var n=0;n<e.length;n++){var o=e[n];"initial"===t&&o.querySelector(".info__navigation-container").addEventListener("click",function(e){e.preventDefault();var t=e.target,e=e.currentTarget.parentNode;t.classList.contains("info__navigation-button")&&(t.classList.contains("info__navigation-button--closed")?_(e,t):t.classList.contains("info__navigation-button--opened")&&(L(p,"closeall"),t=t,e.classList.remove("info__navigation-data--closed"),t.classList.remove("info__navigation-button--opened"),t.classList.add("info__navigation-button--closed")))}),"closeall"===t&&_(o,o.querySelector(".info__navigation-button"))}};L(p,"initial")}();